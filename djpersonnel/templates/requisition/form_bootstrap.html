{% extends "minimal.html" %}
{% load bootstrap4 %}
{% block title %}
    Personnel Requisition Form &mdash; Human Resources &mdash; Carthage College
{% endblock %}
{% block extra_javascript %}
<script type="text/javascript">
  function toggleCheck(domRadio, domInput) {
    if (document.getElementById(domRadio).checked) {
      document.getElementById(domInput).style.visibility = 'visible';
    } else {
      document.getElementById(domInput).style.visibility = 'hidden';
    }
  }
  /* jquery code */
  $(function() {
    {% if form.new_position.value == 'No' %}
    $("#replacement").removeClass("hyde");
    {% endif %}
  });
</script>
{% endblock %}
{% block extra_style %}
<style>
  .hyde {visibility:hidden;}
  label h5 {font-weight:545;font-size: 1.2rem;margin-bottom:0;}
  .form-check-label {font-size: .9em;}
</style>
{% endblock %}
{% block content %}
{% spaceless %}
<div class="container">
  <div class="col-md-12 card bg-dark">
    <div class="card-title">
      <h3 class="text-center text-white">Position Requisition Form</h3>
    </div>
    <div class="card-header bg-secondary text-white">
      <strong>Instructions:</strong>
      This form must be completed prior to recruiting
      or hiring for a new or replacement position.
      The hiring manager should complete this form, upload the current
      job description, and electronically submit.
      This form will then be automatically routed for the proper
      approval(s). After the final signature is received,
      the hiring manager will receive notification via email
      indicating approval, and the job will be posted.
    </div>
    <div class="card-body bg-light">
      <form action="." method="post" class="form" role="form">
        {% csrf_token %}
        <div class="form-row mt-4">
          <div class="col-sm-6 pb-3">
            <label for="{{ form.position_title.id_for_label }}"
              {% if form.position_title.errors %}
                class="text-danger"
              {% endif %}>
              <h5>{{form.position_title.label}}</h5>
            </label>
            <input type="text" class="form-control
              {% if form.position_title.errors %} is-invalid{% endif %}"
              name="position_title"
              id="{{form.position_title.id_for_label}}"
              value="{{form.position_title.value|default_if_none:''}}"
              placeholder="Enter Position Title"
              {% if not django_debug %} required{% endif %}>
            <small class="text-danger">
              {{form.position_title.errors|join:", "}}
            </small>
          </div>
          <div class="col-sm-6 pb-3">
            <label for="{{form.department_name.id_for_label}}"
              {% if form.department_name.errors %}
                class="text-danger"
              {% endif %}>
              <h5>{{form.department_name.label}}</h5>
            </label>
            <input type="text" class="form-control
              {% if form.department_name.errors %} is-invalid{% endif %}"
              name="department_name"
              id="{{form.department_name.id_for_label}}"
              value="{{form.department_name.value|default_if_none:''}}"
              placeholder="Enter Department Name"
              {% if not django_debug %} required{% endif %}>
            <small class="text-danger">
              {{form.department_name.errors|join:", "}}
            </small>
          </div>
          <div class="col-md-6 pb-3">
            <div class="form-group">
              <label for="id_{{form.new_position.name}}_0"
                {% if form.new_position.errors %}
                  class="text-danger"
                {% endif %}>
                <h5>{{form.new_position.label}}</h5>
              </label>
              <div class="form-check">
                <label for="id_{{form.new_position.name}}_0"
                  class="form-check-label">
                  <input class="form-check-input" value="Yes"
                    type="radio" name="new_position"
                    id="id_{{form.new_position.name}}_0"
                    onclick="javascript:toggleCheck('id_{{form.new_position.name}}_1','replacement');"
                    {% if form.new_position.value == 'Yes' %}
                      checked
                    {% endif %}>
                    Yes
                </label>
              </div>
              <div class="form-check">
                <label for="id_{{form.new_position.name}}_1"
                  class="form-check-label">
                  <input class="form-check-input" value="No"
                    type="radio" name="new_position"
                    id="id_{{form.new_position.name}}_1"
                    onclick="javascript:toggleCheck('id_{{form.new_position.name}}_1','replacement');"
                    {% if form.new_position.value == 'No' %}
                      checked
                    {% endif %}>
                    No
                </label>
              </div>
              {% if form.new_position.errors %}
              <small class="text-danger">
                Please choose "Yes" or "No"
              </small>
              {% endif %}
              <!-- Hidden unless "No" is selected -->
              <div class="form-check hyde" id="replacement">
                <label for="{{form.replacement_name.id_for_label}}">
                  If 'Replacement', please provide name
                </label>
                <input type="text" name="replacement_name"
                  class="form-control{% if form.replacement_name.errors %} is-invalid{% endif %}"
                  id="{{form.replacement_name.id_for_label}}"
                  value="{{ form.replacement_name.value|default_if_none:'' }}"
                  placeholder="Enter Replacement Name">
                <small class="text-danger">
                  {{ form.replacement_name.errors|join:", "}}
                </small>
              </div>
            </div>
          </div>
          <div class="col-md-6 pb-3">
            <div class="form-group">
              <label for="id_{{form.salary_type.name}}_0"
                {% if form.salary_type.errors %}
                  class="text-danger"
                {% endif %}>
                <h5>{{form.salary_type.label}}</h5>
              </label>
              <div class="form-check">
                <label for="id_{{form.salary_type.name}}_0"
                  class="form-check-label">
                  <input class="form-check-input" value="Exempt"
                    type="radio" name="salary_type"
                    id="id_{{form.salary_type.name}}_0"
                    {% if form.salary_type.value == 'Exempt' %}
                      checked
                    {% endif %}>
                    Exempt (salary)
                </label>
              </div>
              <div class="form-check">
                <label for="id_{{form.salary_type.name}}_1"
                  class="form-check-label">
                  <input class="form-check-input" value="No"
                    type="radio" name="salary_type"
                    id="id_{{form.salary_type.name}}_1"
                    {% if form.salary_type.value == 'No' %}
                      checked
                    {% endif %}>
                    Non-exempt (hourly)
                </label>
              </div>
              <small class="text-danger">
                {{ form.salary_type.errors|join:", "}}
              </small>
            </div>
            <div class="form-group">
              <label>Is this a budgeted position?</label>
              <div class="form-check">
                <label for="{{ form.budgeted_position.id_for_label }}_yes" class="form-check-label">
                <input class="form-check-input" type="radio" name="budgeted_position" id="{{ form.budgeted_position.id_for_label }}_yes" value="{{ form.budgeted_position.value }}"> Yes
                </label>
              </div>
              <div class="form-check">
                <label for="{{ form.budgeted_position.id_for_label }}_no" class="form-check-label">
                    <input class="form-check-input" type="radio" name="budgeted_position" id="{{ form.budgeted_position.id_for_label }}_no" value="{{ form.budgeted_position.value }}"> No
                </label>
              </div>
            </div>
          </div>
          <div class="col-sm-12 pb-3">
            <h6>Job Salary Range (consult Human Resources)</h6>
          </div>
          <div class="col-sm-4 pb-3">
            <label for="{{ form.min_salary_range.id_for_label }}"{% if form.min_salary_range.errors %} class="text-danger"{% endif %}>Minimum</label>
            <input type="number" class="form-control{% if form.min_salary_range.errors %} is-invalid{% endif %}" name="min_salary_range" id="{{ form.min_salary_range.id_for_label }}" value="{{ form.min_salary_range.value|default_if_none:'' }}" title="List the minimum salary range for this position" step="0.01" placeholder="Enter Minimum Salary Range"{% if not django_debug %} required{% endif %}>
            <small class="text-danger">
              {{ form.min_salary_range.errors|join:", "}}
            </small>
          </div>
          <div class="col-sm-4 pb-3">
            <label for="{{ form.mid_salary_range.id_for_label }}"{% if form.mid_salary_range.errors %} class="text-danger"{% endif %}>Midpoint</label>
            <input type="number" class="form-control{% if form.mid_salary_range.errors %} is-invalid{% endif %}" name="mid_salary_range" id="{{ form.mid_salary_range.id_for_label }}" value="{{ form.mid_salary_range.value|default_if_none:'' }}" title="List the midpoint salary range for this position" step="0.01" placeholder="Enter Midpoint Salary Range"{% if not django_debug %} required{% endif %}>
            <small class="text-danger">
              {{ form.mid_salary_range.errors|join:", "}}
            </small>
          </div>
          <div class="col-sm-4 pb-3">
            <label for="{{ form.max_salary_range.id_for_label }}"{% if form.max_salary_range.errors %} class="text-danger"{% endif %}>Maximum</label>
            <input type="number" class="form-control{% if form.max_salary_range.errors %} is-invalid{% endif %}" name="max_salary_range" id="{{ form.max_salary_range.id_for_label }}" value="{{ form.max_salary_range.value|default_if_none:'' }}" title="List the maximum salary range for this position" step="0.01" placeholder="Enter Maximum Salary Range"{% if not django_debug %} required{% endif %}>
            <small class="text-danger">
              {{ form.max_salary_range.errors|join:", "}}
            </small>
          </div>
          <div class="col-sm-6 pb-3">
            <label for="{{ form.position_open_date.id_for_label }}"{% if form.position_open_date.errors %} class="text-danger"{% endif %}>Date Position is open/available</label>
            <input type="date" class="form-control{% if form.position_open_date.errors %} is-invalid{% endif %}" name="position_open_date" id="{{ form.position_open_date.id_for_label }}" value="{{ form.position_open_date.value|default:'' }}"{% if not django_debug %} required{% endif %}>
            <small class="text-danger">
              {{ form.position_open_date.errors|join:", "}}
            </small>
          </div>
          <div class="col-sm-6 pb-3">
            <label for="{{ form.expected_start_date.id_for_label }}"{% if form.expected_start_date.errors %} class="text-danger"{% endif %}>Expected Start Date</label>
            <input type="date" class="form-control{% if form.expected_start_date.errors %} is-invalid{% endif %}" name="expected_start_date" id="{{ form.expected_start_date.id_for_label }}" value="{{form.expected_start_date.value|default:''}}"{% if not django_debug %} required{% endif %}>
            <small class="text-danger">
              {{ form.expected_start_date.errors|join:", "}}
            </small>
          </div>
          <div class="col-sm-6 pb-3">
            <label for="{{ form.hours_per_week.id_for_label }}"{% if form.hours_per_week.errors %} class="text-danger"{% endif %}>How many hours per week will this position work?</label>
            <input type="text" class="form-control{% if form.hours_per_week.errors %} is-invalid{% endif %}" name="hours_per_week" id="{{ form.hours_per_week.id_for_label }}" value="{{ form.hours_per_week.value|default_if_none:'' }}" placeholder="Enter Hours per Week"{% if not django_debug %} required{% endif %}>
            <small class="text-danger">
              {{ form.hours_per_week.errors|join:", "}}
            </small>
          </div>
          <div class="col-sm-12 pb-3">
            <p>
              Please note: If an employee is regularly scheduled
              for 40 hours or more per week they would
              be considered full-time and benefits eligible.
              If an employee is regularly scheduled for
              30 hours or more per week they would be considered
              part-time and benefits eligible. If an
              employee is regularly scheduled for less than 30
              hours per week they would be considered part-time
              and not benefits eligible.
            </p>
          </div>
          <div class="col-sm-12 pb-3">
            <label for="{{ form.hours_per_week.id_for_label }}"{% if form.hours_per_week.errors %} class="text-danger"{% endif %}>I would like Human Resources to post this position by</label>
            <input type="date" class="form-control{% if form.hours_per_week.errors %} is-invalid{% endif %}" name="hours_per_week" id="{{ form.hours_per_week.id_for_label }}" value="{{ form.hours_per_week.value|default_if_none:'' }}">
            <small class="text-danger">
              {{ form.hours_per_week.errors|join:", "}}
            </small>
          </div>
          <div class="col-sm-12 pb-3">
            <label for="id_{{form.applicant_system.name}}_0"
              {% if form.applicant_system.errors %}
                class="text-danger"
              {% endif %}>
              <h5>{{form.applicant_system.label}}</h5>
            </label>
            <div class="form-check form-check-inline">
              <div class="form-check">
                <label for="id_{{form.applicant_system.name}}_0"
                  class="form-check-label">
                  <input class="form-check-input" value="Yes"
                    type="radio" name="applicant_system"
                    id="id_{{form.applicant_system.name}}_0"
                    onclick="javascript:toggleCheck('id_{{form.applicant_system.name}}_0','applicant_system_people');"
                    {% if form.applicant_system.value == 'Yes' %}
                      checked
                    {% endif %}>
                    Yes
                </label>
              </div>
            </div>
            <div class="form-check form-check-inline">
              <div class="form-check">
                <label for="id_{{form.applicant_system.name}}_1"
                  class="form-check-label">
                  <input class="form-check-input" value="No"
                    type="radio" name="applicant_system"
                    id="id_{{form.applicant_system.name}}_1"
                    onclick="javascript:toggleCheck('id_{{form.applicant_system.name}}_0','applicant_system_people');"
                    {% if form.applicant_system.value == 'No' %}
                      checked
                    {% endif %}>
                    No
                </label>
              </div>
            </div>
            <!-- Hidden unless "Yes" is selected -->
            <div class="form-check hyde" id="applicant_system_people">
              <textarea class="form-control" rows="2"
                id="id_applicant_system_people"
                name="applicant_system_people"
                value="{{form.replacement_name.value|default_if_none:'' }}"
                placeholder="Enter Individuals Name"></textarea>
            </div>
          </div>
          <div class="col-sm-12 pb-3">
            <label>
              I would like to post to a speciality site that
              is not part of the base package.
            </label>
            <div class="form-check form-check-inline">
              <label for="yes2" class="form-check-label">
                <input class="form-check-input" type="radio" name="new_position" id="yes2" onclick="javascript:yesnoCheck2();" value="{{ form.new_position.value }}">
                Yes
              </label>
            </div>
            <div class="form-check form-check-inline">
              <label for="no2" class="form-check-label">
                <input class="form-check-input" type="radio" name="new_position" id="no2" onclick="javascript:yesnoCheck2();" value="{{ form.new_position.value }}">
                No
              </label>
            </div>
            <!-- Hidden unless "Yes" is selected -->
            <div class="form-check" id="ifYes2" style="visibility:hidden">
              <textarea class="form-control" id="exampleFormControlTextarea2" name="replacement_name" rows="2" value="{{ form.replacement_name.value|default_if_none:'' }}" placeholder="Enter Speciality Site(s)"></textarea>
              <small class="text-danger">
                Please note departments will be charged for
                costs associated with posting positions to
                specialty sites.
              </small>
            </div>
          </div>
          <div class="col-12 pb-3 text-center">
            <button class="btn btn-primary" style="width:200px;" type="submit">Submit</button>
          </div>
        </div>
        <!-- end form row -->
      </form>
      <!-- end form -->
    </div>
    <!-- end card body -->
  </div>
  <!-- end card -->
</div>
<!-- end container -->
{% endspaceless %}
{% endblock %}
